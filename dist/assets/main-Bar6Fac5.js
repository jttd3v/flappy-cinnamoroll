import{h as f}from"./vendor-audio-CjgeZf7n.js";import{i as N}from"./vendor-db-BYG65H0b.js";import{g as c}from"./vendor-gsap-C8pce-KX.js";import{c as S}from"./vendor-effects-B5JVzsfH.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const u={GAME_INIT:"game:init",GAME_START:"game:start",GAME_PAUSE:"game:pause",GAME_RESUME:"game:resume",GAME_OVER:"game:over",GAME_RESTART:"game:restart",STATE_CHANGE:"state:change",LOOP_START:"loop:start",LOOP_STOP:"loop:stop",LOOP_PAUSE:"loop:pause",LOOP_RESUME:"loop:resume",VISIBILITY_HIDDEN:"visibility:hidden",VISIBILITY_VISIBLE:"visibility:visible",PLAYER_JUMP:"player:jump",PLAYER_FLAP:"player:flap",PLAYER_DEATH:"player:death",SCORE_UPDATE:"score:update",SCORE_MILESTONE:"score:milestone",HIGH_SCORE:"score:high",COLLISION:"collision",AUDIO_READY:"audio:ready",AUDIO_MUTE:"audio:mute",AUDIO_UNMUTE:"audio:unmute",GHOST_SPAWN:"ghost:spawn",GHOST_DESPAWN:"ghost:despawn",SPEED_UP:"speed:up",UI_BUTTON_CLICK:"ui:button:click",MODAL_OPEN:"ui:modal:open",MODAL_CLOSE:"ui:modal:close"};class P{listeners=new Map;eventHistory=[];maxHistorySize=100;debugMode=!1;on(e,t){this.listeners.has(e)||this.listeners.set(e,[]);const i={callback:t,once:!1};return this.listeners.get(e).push(i),this.debugMode&&console.log(`üì° EventSystem: Subscribed to "${e}"`),()=>this.off(e,t)}once(e,t){this.listeners.has(e)||this.listeners.set(e,[]);const i={callback:t,once:!0};return this.listeners.get(e).push(i),()=>this.off(e,t)}off(e,t){const i=this.listeners.get(e);if(!i)return;const s=i.findIndex(a=>a.callback===t);s>-1&&(i.splice(s,1),this.debugMode&&console.log(`üì° EventSystem: Unsubscribed from "${e}"`))}emit(e,t){this.eventHistory.push({event:e,data:t,timestamp:performance.now()}),this.eventHistory.length>this.maxHistorySize&&this.eventHistory.shift(),this.debugMode&&console.log(`üì° EventSystem: Emit "${e}"`,t);const i=this.listeners.get(e);if(!i||i.length===0)return;const s=[...i];for(const a of s){try{a.callback(t)}catch(n){console.error(`EventSystem: Error in "${e}" handler:`,n)}a.once&&this.off(e,a.callback)}}removeAllListeners(e){e?this.listeners.delete(e):this.listeners.clear()}listenerCount(e){return this.listeners.get(e)?.length??0}getRegisteredEvents(){return Array.from(this.listeners.keys())}getHistory(){return this.eventHistory}clearHistory(){this.eventHistory=[]}setDebugMode(e){this.debugMode=e,console.log(`üì° EventSystem: Debug mode ${e?"enabled":"disabled"}`)}createScope(){return new w(this)}}class w{unsubscribers=[];parent;constructor(e){this.parent=e}on(e,t){const i=this.parent.on(e,t);this.unsubscribers.push(i)}once(e,t){const i=this.parent.once(e,t);this.unsubscribers.push(i)}emit(e,t){this.parent.emit(e,t)}destroy(){for(const e of this.unsubscribers)e();this.unsubscribers=[]}}const l=new P;class g{static instance=null;_isVisible=!0;_lastVisibleTime=0;_lastHiddenTime=0;_totalHiddenTime=0;_autoPauseEnabled=!0;_initialized=!1;constructor(){}static getInstance(){return g.instance||(g.instance=new g),g.instance}init(){this._initialized||(this._isVisible=!document.hidden,this._lastVisibleTime=performance.now(),document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)),window.addEventListener("pagehide",()=>this.handleVisibilityChange()),window.addEventListener("pageshow",()=>this.handleVisibilityChange()),window.addEventListener("blur",()=>{this._autoPauseEnabled&&this._isVisible}),window.addEventListener("focus",()=>{this._autoPauseEnabled&&!this._isVisible&&this.handleVisibilityChange()}),this._initialized=!0,console.log("üëÅÔ∏è VisibilityManager initialized"))}handleVisibilityChange(){const e=this._isVisible;this._isVisible=!document.hidden;const t=performance.now();if(e&&!this._isVisible)this._lastHiddenTime=t,console.log("üëÅÔ∏è Tab hidden"),this._autoPauseEnabled&&(l.emit(u.VISIBILITY_HIDDEN,{timestamp:t,wasPlaying:!0}),l.emit(u.GAME_PAUSE,{reason:"visibility",timestamp:t}));else if(!e&&this._isVisible){const i=t-this._lastHiddenTime;this._totalHiddenTime+=i,this._lastVisibleTime=t,console.log(`üëÅÔ∏è Tab visible (was hidden for ${Math.round(i)}ms)`),this._autoPauseEnabled&&(l.emit(u.VISIBILITY_VISIBLE,{timestamp:t,hiddenDuration:i}),l.emit(u.GAME_RESUME,{reason:"visibility",timestamp:t,hiddenDuration:i}))}}get isVisible(){return this._isVisible}getState(){return{isVisible:this._isVisible,lastVisibleTime:this._lastVisibleTime,lastHiddenTime:this._lastHiddenTime,totalHiddenTime:this._totalHiddenTime}}setAutoPause(e){this._autoPauseEnabled=e,console.log(`üëÅÔ∏è Auto-pause ${e?"enabled":"disabled"}`)}get autoPauseEnabled(){return this._autoPauseEnabled}destroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange),this._initialized=!1,g.instance=null}}const D=g.getInstance();class k{config;rafId=null;lastTimestamp=0;elapsedTime=0;frameCount=0;isRunning=!1;isPaused=!1;fpsHistory=[];fpsUpdateInterval=500;lastFpsUpdate=0;currentFps=60;accumulator=0;updateCallbacks=[];renderCallbacks=[];fixedUpdateCallbacks=[];visibilityManager;constructor(e={}){this.config={targetFPS:e.targetFPS??0,maxDeltaTime:e.maxDeltaTime??100,fixedTimestep:e.fixedTimestep??16.67,autoPauseOnHidden:e.autoPauseOnHidden??!0},this.visibilityManager=g.getInstance(),this.tick=this.tick.bind(this),this.setupVisibilityHandling()}setupVisibilityHandling(){this.config.autoPauseOnHidden&&(l.on(u.VISIBILITY_HIDDEN,()=>{this.isRunning&&!this.isPaused&&(this.pause(),console.log("üéÆ GameLoop auto-paused (tab hidden)"))}),l.on(u.VISIBILITY_VISIBLE,e=>{this.isPaused&&(this.lastTimestamp=performance.now(),this.accumulator=0,console.log(`üéÆ GameLoop ready to resume (was hidden ${Math.round(e.hiddenDuration)}ms)`))}))}tick(e){if(!this.isRunning)return;if(this.rafId=requestAnimationFrame(this.tick),this.isPaused){this.lastTimestamp=e;return}let t=e-this.lastTimestamp;this.lastTimestamp=e,t===e&&(t=this.config.fixedTimestep),t>this.config.maxDeltaTime&&(console.warn(`‚ö†Ô∏è Large delta clamped: ${t.toFixed(1)}ms -> ${this.config.maxDeltaTime}ms`),t=this.config.maxDeltaTime),this.elapsedTime+=t,this.frameCount++,this.updateFPS(t,e);const i={deltaTime:t,deltaNormalized:t/16.67,timestamp:e,fps:this.currentFps,elapsedTime:this.elapsedTime,frameCount:this.frameCount};for(this.accumulator+=t;this.accumulator>=this.config.fixedTimestep;){const s={...i,deltaTime:this.config.fixedTimestep,deltaNormalized:1};for(const a of this.fixedUpdateCallbacks)a(s);this.accumulator-=this.config.fixedTimestep}for(const s of this.updateCallbacks)s(i);for(const s of this.renderCallbacks)s(i)}updateFPS(e,t){const i=1e3/e;if(this.fpsHistory.push(i),this.fpsHistory.length>60&&this.fpsHistory.shift(),t-this.lastFpsUpdate>this.fpsUpdateInterval){const s=this.fpsHistory.reduce((a,n)=>a+n,0)/this.fpsHistory.length;this.currentFps=Math.round(s),this.lastFpsUpdate=t}}start(){this.isRunning||(this.isRunning=!0,this.isPaused=!1,this.lastTimestamp=performance.now(),this.accumulator=0,this.visibilityManager.init(),this.rafId=requestAnimationFrame(this.tick),console.log("üéÆ GameLoop started"),l.emit(u.LOOP_START,{timestamp:this.lastTimestamp}))}stop(){this.isRunning&&(this.isRunning=!1,this.isPaused=!1,this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null),console.log("üéÆ GameLoop stopped"),l.emit(u.LOOP_STOP,{elapsedTime:this.elapsedTime,frameCount:this.frameCount}))}pause(){!this.isRunning||this.isPaused||(this.isPaused=!0,console.log("üéÆ GameLoop paused"),l.emit(u.LOOP_PAUSE,{timestamp:performance.now()}))}resume(){!this.isRunning||!this.isPaused||(this.isPaused=!1,this.lastTimestamp=performance.now(),this.accumulator=0,console.log("üéÆ GameLoop resumed"),l.emit(u.LOOP_RESUME,{timestamp:this.lastTimestamp}))}togglePause(){return this.isPaused?this.resume():this.pause(),this.isPaused}onUpdate(e){return this.updateCallbacks.push(e),()=>{const t=this.updateCallbacks.indexOf(e);t>-1&&this.updateCallbacks.splice(t,1)}}onFixedUpdate(e){return this.fixedUpdateCallbacks.push(e),()=>{const t=this.fixedUpdateCallbacks.indexOf(e);t>-1&&this.fixedUpdateCallbacks.splice(t,1)}}onRender(e){return this.renderCallbacks.push(e),()=>{const t=this.renderCallbacks.indexOf(e);t>-1&&this.renderCallbacks.splice(t,1)}}get state(){return{isRunning:this.isRunning,isPaused:this.isPaused,fps:this.currentFps,frameCount:this.frameCount,elapsedTime:this.elapsedTime}}destroy(){this.stop(),this.updateCallbacks=[],this.renderCallbacks=[],this.fixedUpdateCallbacks=[],this.fpsHistory=[]}}function B(r){return new k(r)}const O={gravity:.4,maxVelocityY:10,maxVelocityX:10,friction:.98,airResistance:.99},F=16.67;class _{config;constructor(e={}){this.config={gravity:e.gravity??O.gravity,maxVelocityY:e.maxVelocityY??O.maxVelocityY,maxVelocityX:e.maxVelocityX??O.maxVelocityX,friction:e.friction??O.friction,airResistance:e.airResistance??O.airResistance}}applyGravity(e,t){if(e.isStatic)return;const i=t/F;e.velocityY+=this.config.gravity*i}applyVelocity(e,t){if(e.isStatic)return;const i=t/F;e.x+=e.velocityX*i,e.y+=e.velocityY*i}clampVelocity(e){e.velocityY=Math.max(-this.config.maxVelocityY,Math.min(this.config.maxVelocityY,e.velocityY)),e.velocityX=Math.max(-this.config.maxVelocityX,Math.min(this.config.maxVelocityX,e.velocityX))}applyImpulse(e,t,i){e.isStatic||(e.velocityX+=t,e.velocityY+=i,this.clampVelocity(e))}setVelocity(e,t,i){t!==void 0&&(e.velocityX=t),i!==void 0&&(e.velocityY=i),this.clampVelocity(e)}update(e,t){this.applyGravity(e,t),this.clampVelocity(e),this.applyVelocity(e,t)}static checkAABB(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}static checkCircleCollision(e,t){const i=e.x-t.x,s=e.y-t.y;return Math.sqrt(i*i+s*s)<e.radius+t.radius}static checkCircleRectCollision(e,t){const i=Math.max(t.x,Math.min(e.x,t.x+t.width)),s=Math.max(t.y,Math.min(e.y,t.y+t.height)),a=e.x-i,n=e.y-s;return a*a+n*n<e.radius*e.radius}static getCircleBounds(e){const t=e.collisionRadius??Math.min(e.width,e.height)/2;return{x:e.x+e.width/2,y:e.y+e.height/2,radius:t}}static getRectBounds(e){return{x:e.x,y:e.y,width:e.width,height:e.height}}static checkPlayerObstacleCollision(e,t,i=.7){const s=this.getCircleBounds(e);return s.radius*=i,this.checkCircleRectCollision(s,t)}static checkCloudGapCollision(e,t,i,s,a,n,o=.7){const p=this.getCircleBounds(e);p.radius*=o;const x={x:t,y:0,width:i,height:s},V={x:t,y:s+a,width:i,height:n-(s+a)};return this.checkCircleRectCollision(p,x)||this.checkCircleRectCollision(p,V)}static isOutOfBounds(e,t){return{top:t.minY!==void 0&&e.y<t.minY,bottom:t.maxY!==void 0&&e.y+e.height>t.maxY,left:t.minX!==void 0&&e.x<t.minX,right:t.maxX!==void 0&&e.x+e.width>t.maxX}}static clampToBounds(e,t){const i={hitTop:!1,hitBottom:!1,hitLeft:!1,hitRight:!1};return t.minY!==void 0&&e.y<t.minY&&(e.y=t.minY,e.velocityY=0,i.hitTop=!0),t.maxY!==void 0&&e.y+e.height>t.maxY&&(e.y=t.maxY-e.height,e.velocityY=0,i.hitBottom=!0),t.minX!==void 0&&e.x<t.minX&&(e.x=t.minX,e.velocityX=0,i.hitLeft=!0),t.maxX!==void 0&&e.x+e.width>t.maxX&&(e.x=t.maxX-e.width,e.velocityX=0,i.hitRight=!0),i}static distance(e,t){const i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)}static lerp(e,t,i){return e+(t-e)*i}static getCenter(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}setConfig(e){Object.assign(this.config,e)}getConfig(){return{...this.config}}}function G(r){return new _(r)}const y={FLAP:"flap",SCORE:"score",COLLISION:"collision",SPEED_UP:"speedUp",GHOST_APPEAR:"ghostAppear",BUTTON_CLICK:"buttonClick",MILESTONE:"milestone",CELEBRATION:"celebration"};class E{static instance=null;sounds=new Map;audioContext=null;masterGain=null;config={masterVolume:1,sfxVolume:1,musicVolume:.5,muted:!1};initialized=!1;contextResumed=!1;resumeListenerAdded=!1;constructor(){}static getInstance(){return E.instance||(E.instance=new E),E.instance}async init(e){if(this.initialized)return!0;e&&(this.config={...this.config,...e});try{return f.Howler.volume(this.config.masterVolume),f.Howler.mute(this.config.muted),this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.audioContext.createGain(),this.masterGain.connect(this.audioContext.destination),this.masterGain.gain.value=this.config.masterVolume,this.setupContextResumeHandler(),this.initialized=!0,console.log("üîä AudioManager initialized"),!0}catch(t){return console.warn("üîá AudioManager: Web Audio API not supported",t),!1}}setupContextResumeHandler(){if(this.resumeListenerAdded)return;const e=async()=>{if(!this.contextResumed){if(this.audioContext&&this.audioContext.state==="suspended")try{await this.audioContext.resume(),console.log("üîä AudioContext resumed")}catch(t){console.warn("üîá Failed to resume AudioContext",t)}f.Howler.ctx&&f.Howler.ctx.state==="suspended"&&f.Howler.ctx.resume(),this.contextResumed=!0,l.emit(u.AUDIO_READY,{timestamp:performance.now()}),document.removeEventListener("click",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",e)}};document.addEventListener("click",e,{once:!1}),document.addEventListener("touchstart",e,{once:!1}),document.addEventListener("keydown",e,{once:!1}),this.resumeListenerAdded=!0}async ensureReady(){if(this.contextResumed)return!0;if(this.audioContext&&this.audioContext.state==="suspended")try{return await this.audioContext.resume(),this.contextResumed=!0,!0}catch{return!1}return!0}loadSound(e,t){return new Promise((i,s)=>{if(!t.src){s(new Error(`No source provided for sound: ${e}`));return}const a=new f.Howl({src:Array.isArray(t.src)?t.src:[t.src],volume:t.volume??this.config.sfxVolume,loop:t.loop??!1,sprite:t.sprite,onload:()=>{this.sounds.set(e,a),console.log(`üîä Loaded sound: ${e}`),i()},onloaderror:(n,o)=>{console.error(`üîá Failed to load sound: ${e}`,o),s(o)}})})}play(e,t){const i=this.sounds.get(e);if(!i){this.playProcedural(e);return}return i.play(t)}stop(e){this.sounds.get(e)?.stop()}playProcedural(e){if(!this.audioContext||!this.masterGain||this.config.muted)return;const t=this.audioContext,i=t.currentTime;switch(e){case y.FLAP:this.playFlapSound(t,i);break;case y.SCORE:this.playScoreSound(t,i);break;case y.COLLISION:this.playCollisionSound(t,i);break;case y.GHOST_APPEAR:this.playGhostSound(t,i);break;case y.SPEED_UP:this.playSpeedUpSound(t,i);break;case y.BUTTON_CLICK:this.playClickSound(t,i);break;case y.MILESTONE:this.playMilestoneSound(t,i);break;case y.CELEBRATION:this.playCelebrationSound(t,i);break;default:console.warn(`Unknown procedural sound type: ${e}`)}}playFlapSound(e,t){const i=e.createOscillator(),s=e.createGain();i.connect(s),s.connect(this.masterGain),i.type="sine",i.frequency.setValueAtTime(400,t),i.frequency.exponentialRampToValueAtTime(600,t+.05),s.gain.setValueAtTime(.15*this.config.sfxVolume,t),s.gain.exponentialRampToValueAtTime(.01,t+.05),i.start(t),i.stop(t+.05)}playScoreSound(e,t){const i=e.createOscillator(),s=e.createGain();i.connect(s),s.connect(this.masterGain),i.type="sine",i.frequency.setValueAtTime(523,t),i.frequency.setValueAtTime(659,t+.1),s.gain.setValueAtTime(.3*this.config.sfxVolume,t),s.gain.exponentialRampToValueAtTime(.01,t+.2),i.start(t),i.stop(t+.2)}playCollisionSound(e,t){const i=e.createOscillator(),s=e.createGain();i.connect(s),s.connect(this.masterGain),i.type="sawtooth",i.frequency.setValueAtTime(200,t),i.frequency.exponentialRampToValueAtTime(50,t+.3),s.gain.setValueAtTime(.5*this.config.sfxVolume,t),s.gain.exponentialRampToValueAtTime(.01,t+.3),i.start(t),i.stop(t+.3)}playGhostSound(e,t){const i=e.createOscillator(),s=e.createGain();i.connect(s),s.connect(this.masterGain),i.type="sawtooth",i.frequency.setValueAtTime(150,t),i.frequency.exponentialRampToValueAtTime(80,t+.5),s.gain.setValueAtTime(.4*this.config.sfxVolume,t),s.gain.exponentialRampToValueAtTime(.01,t+.5),i.start(t),i.stop(t+.5)}playSpeedUpSound(e,t){const i=e.createOscillator(),s=e.createGain();i.connect(s),s.connect(this.masterGain),i.type="square",i.frequency.setValueAtTime(300,t),i.frequency.exponentialRampToValueAtTime(900,t+.15),s.gain.setValueAtTime(.2*this.config.sfxVolume,t),s.gain.exponentialRampToValueAtTime(.01,t+.15),i.start(t),i.stop(t+.15)}playClickSound(e,t){const i=e.createOscillator(),s=e.createGain();i.connect(s),s.connect(this.masterGain),i.type="sine",i.frequency.setValueAtTime(800,t),s.gain.setValueAtTime(.1*this.config.sfxVolume,t),s.gain.exponentialRampToValueAtTime(.01,t+.05),i.start(t),i.stop(t+.05)}playMilestoneSound(e,t){[523,659,784,1047].forEach((s,a)=>{const n=e.createOscillator(),o=e.createGain();n.connect(o),o.connect(this.masterGain),n.type="sine",n.frequency.setValueAtTime(s,t+a*.1),o.gain.setValueAtTime(.25*this.config.sfxVolume,t+a*.1),o.gain.exponentialRampToValueAtTime(.01,t+a*.1+.2),n.start(t+a*.1),n.stop(t+a*.1+.2)})}playCelebrationSound(e,t){const i=[523,659,784,659,784,1047],s=[.15,.15,.15,.15,.15,.4];let a=0;i.forEach((n,o)=>{const p=e.createOscillator(),x=e.createGain();p.connect(x),x.connect(this.masterGain),p.type="sine",p.frequency.setValueAtTime(n,t+a),x.gain.setValueAtTime(.3*this.config.sfxVolume,t+a),x.gain.exponentialRampToValueAtTime(.01,t+a+s[o]),p.start(t+a),p.stop(t+a+s[o]),a+=s[o]})}setMasterVolume(e){this.config.masterVolume=Math.max(0,Math.min(1,e)),f.Howler.volume(this.config.masterVolume),this.masterGain&&(this.masterGain.gain.value=this.config.masterVolume)}setSfxVolume(e){this.config.sfxVolume=Math.max(0,Math.min(1,e))}setMusicVolume(e){this.config.musicVolume=Math.max(0,Math.min(1,e))}mute(){this.config.muted=!0,f.Howler.mute(!0),l.emit(u.AUDIO_MUTE)}unmute(){this.config.muted=!1,f.Howler.mute(!1),l.emit(u.AUDIO_UNMUTE)}toggleMute(){return this.config.muted?this.unmute():this.mute(),this.config.muted}get isMuted(){return this.config.muted}getConfig(){return{...this.config}}destroy(){this.sounds.forEach(e=>e.unload()),this.sounds.clear(),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.initialized=!1,E.instance=null}}const I=E.getInstance(),U="CinnamorollGamesDB",R="sqlite",H=1;class T{static instance=null;SQL=null;db=null;initialized=!1;constructor(){}static getInstance(){return T.instance||(T.instance=new T),T.instance}async init(){if(this.initialized)return!0;try{this.SQL=await N({locateFile:t=>`https://sql.js.org/dist/${t}`});const e=await this.loadFromIndexedDB();return e?(this.db=new this.SQL.Database(e),console.log("üíæ SQLite: Loaded existing database")):(this.db=new this.SQL.Database,await this.runMigrations(),console.log("üíæ SQLite: Created new database")),this.initialized=!0,console.log("üíæ SQLiteManager initialized"),!0}catch(e){return console.error("üíæ SQLiteManager: Failed to initialize",e),!1}}async runMigrations(){this.db&&(this.db.run(`
      CREATE TABLE IF NOT EXISTS players (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        name TEXT UNIQUE NOT NULL COLLATE NOCASE,
        created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
        last_played DATETIME
      );
    `),this.db.run(`
      CREATE TABLE IF NOT EXISTS scores (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        player_id INTEGER NOT NULL,
        game TEXT NOT NULL,
        score INTEGER NOT NULL,
        level INTEGER DEFAULT 1,
        played_at DATETIME DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (player_id) REFERENCES players(id)
      );
    `),this.db.run(`
      CREATE TABLE IF NOT EXISTS achievements (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        player_id INTEGER NOT NULL,
        achievement_key TEXT NOT NULL,
        unlocked_at DATETIME DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (player_id) REFERENCES players(id),
        UNIQUE(player_id, achievement_key)
      );
    `),this.db.run(`
      CREATE TABLE IF NOT EXISTS settings (
        key TEXT PRIMARY KEY,
        value TEXT NOT NULL
      );
    `),this.db.run("CREATE INDEX IF NOT EXISTS idx_scores_player ON scores(player_id);"),this.db.run("CREATE INDEX IF NOT EXISTS idx_scores_game ON scores(game);"),this.db.run("CREATE INDEX IF NOT EXISTS idx_scores_score ON scores(score DESC);"),this.db.run("CREATE INDEX IF NOT EXISTS idx_achievements_player ON achievements(player_id);"),await this.persist())}getOrCreatePlayer(e){if(!this.db)return null;const t=e.trim();if(!t)return null;const i=this.db.exec("SELECT id, name, created_at, last_played FROM players WHERE name = ? COLLATE NOCASE",[t]);if(i.length>0&&i[0].values.length>0){const a=i[0].values[0];return{id:a[0],name:a[1],created_at:a[2],last_played:a[3]}}this.db.run("INSERT INTO players (name) VALUES (?)",[t]);const s=this.db.exec("SELECT id, name, created_at, last_played FROM players WHERE name = ? COLLATE NOCASE",[t]);if(s.length>0&&s[0].values.length>0){const a=s[0].values[0];return this.persist(),{id:a[0],name:a[1],created_at:a[2],last_played:a[3]}}return null}updateLastPlayed(e){this.db&&(this.db.run("UPDATE players SET last_played = CURRENT_TIMESTAMP WHERE id = ?",[e]),this.persist())}getAllPlayers(){if(!this.db)return[];const e=this.db.exec("SELECT id, name, created_at, last_played FROM players ORDER BY last_played DESC");return e.length===0?[]:e[0].values.map(t=>({id:t[0],name:t[1],created_at:t[2],last_played:t[3]}))}addScore(e,t,i,s=1){if(!this.db)return-1;this.db.run("INSERT INTO scores (player_id, game, score, level) VALUES (?, ?, ?, ?)",[e,t,i,s]);const n=this.db.exec("SELECT last_insert_rowid()")[0]?.values[0]?.[0]??-1;return this.updateLastPlayed(e),n}getHighScores(e,t=10){if(!this.db)return[];const i=this.db.exec(`
      SELECT s.id, s.player_id, s.game, s.score, s.level, s.played_at, p.name as player_name
      FROM scores s
      JOIN players p ON s.player_id = p.id
      WHERE s.game = ?
      ORDER BY s.score DESC
      LIMIT ?
    `,[e,t]);return i.length===0?[]:i[0].values.map(s=>({id:s[0],player_id:s[1],game:s[2],score:s[3],level:s[4],played_at:s[5],player_name:s[6]}))}getPlayerBestScore(e,t){return this.db?this.db.exec("SELECT MAX(score) FROM scores WHERE player_id = ? AND game = ?",[e,t])[0]?.values[0]?.[0]??0:0}getPlayerScoreHistory(e,t,i=20){if(!this.db)return[];const s=this.db.exec(`
      SELECT id, player_id, game, score, level, played_at
      FROM scores
      WHERE player_id = ? AND game = ?
      ORDER BY played_at DESC
      LIMIT ?
    `,[e,t,i]);return s.length===0?[]:s[0].values.map(a=>({id:a[0],player_id:a[1],game:a[2],score:a[3],level:a[4],played_at:a[5]}))}unlockAchievement(e,t){if(!this.db)return!1;try{return this.db.run("INSERT OR IGNORE INTO achievements (player_id, achievement_key) VALUES (?, ?)",[e,t]),this.persist(),!0}catch{return!1}}hasAchievement(e,t){if(!this.db)return!1;const i=this.db.exec("SELECT 1 FROM achievements WHERE player_id = ? AND achievement_key = ?",[e,t]);return i.length>0&&i[0].values.length>0}getPlayerAchievements(e){if(!this.db)return[];const t=this.db.exec(`
      SELECT id, player_id, achievement_key, unlocked_at
      FROM achievements
      WHERE player_id = ?
      ORDER BY unlocked_at DESC
    `,[e]);return t.length===0?[]:t[0].values.map(i=>({id:i[0],player_id:i[1],achievement_key:i[2],unlocked_at:i[3]}))}getSetting(e){return this.db?this.db.exec("SELECT value FROM settings WHERE key = ?",[e])[0]?.values[0]?.[0]??null:null}setSetting(e,t){this.db&&(this.db.run("INSERT OR REPLACE INTO settings (key, value) VALUES (?, ?)",[e,t]),this.persist())}openIndexedDB(){return new Promise((e,t)=>{const i=indexedDB.open(U,H);i.onerror=()=>t(i.error),i.onsuccess=()=>e(i.result),i.onupgradeneeded=s=>{const a=s.target.result;a.objectStoreNames.contains(R)||a.createObjectStore(R)}})}async loadFromIndexedDB(){try{const e=await this.openIndexedDB();return new Promise((t,i)=>{const n=e.transaction(R,"readonly").objectStore(R).get("database");n.onerror=()=>i(n.error),n.onsuccess=()=>{t(n.result??null)}})}catch(e){return console.warn("üíæ Failed to load from IndexedDB",e),null}}async persist(){if(this.db)try{const e=this.db.export(),t=await this.openIndexedDB();return new Promise((i,s)=>{const o=t.transaction(R,"readwrite").objectStore(R).put(e,"database");o.onerror=()=>s(o.error),o.onsuccess=()=>i()})}catch(e){console.error("üíæ Failed to persist to IndexedDB",e)}}exportToFile(){if(!this.db)return;const e=this.db.export(),t=new Blob([e.buffer],{type:"application/x-sqlite3"}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download=`cinnamoroll-games-backup-${new Date().toISOString().split("T")[0]}.sqlite`,s.click(),URL.revokeObjectURL(i)}async importFromFile(e){if(!this.SQL)return!1;try{const t=await e.arrayBuffer(),i=new Uint8Array(t);return this.db&&this.db.close(),this.db=new this.SQL.Database(i),await this.persist(),console.log("üíæ Database imported successfully"),!0}catch(t){return console.error("üíæ Failed to import database",t),!1}}destroy(){this.db&&(this.db.close(),this.db=null),this.initialized=!1,T.instance=null}}const b=T.getInstance(),h={BOUNCE:"bounce.out",SMOOTH:"power2.out",NORMAL:.4};class v{static instance=null;activeAnimations=new Map;constructor(){c.defaults({ease:h.SMOOTH,duration:h.NORMAL})}static getInstance(){return v.instance||(v.instance=new v),v.instance}scorePopup(e,t,i,s={}){return e instanceof HTMLElement?(c.set(e,{x:t,y:i,opacity:1,scale:1}),c.to(e,{y:i-60,opacity:0,scale:1.5,duration:s.duration??.8,ease:"power2.out",onComplete:()=>{e.remove(),s.onComplete?.()}})):c.fromTo(e,{x:t,y:i,opacity:1,scale:1},{y:i-60,opacity:0,scale:1.5,duration:s.duration??.8,ease:"power2.out",onComplete:s.onComplete})}scoreCounter(e,t,i,s={}){const a={value:t};return c.to(a,{value:i,duration:s.duration??.5,ease:"power2.out",onUpdate:()=>{e.textContent=Math.round(a.value).toString()},onComplete:s.onComplete})}scorePulse(e){return c.fromTo(e,{scale:1},{scale:1.3,duration:.15,ease:"power2.out",yoyo:!0,repeat:1})}fadeIn(e,t={}){return c.fromTo(e,{opacity:0},{opacity:1,duration:t.duration??h.NORMAL,ease:t.ease??h.SMOOTH,delay:t.delay,onComplete:t.onComplete})}fadeOut(e,t={}){return c.to(e,{opacity:0,duration:t.duration??h.NORMAL,ease:t.ease??h.SMOOTH,delay:t.delay,onComplete:t.onComplete})}slideIn(e,t="bottom",i={}){const a={opacity:0};switch(t){case"left":a.x=-50;break;case"right":a.x=50;break;case"top":a.y=-50;break;case"bottom":a.y=50;break}return c.fromTo(e,a,{x:0,y:0,opacity:1,duration:i.duration??h.NORMAL,ease:i.ease??h.SMOOTH,delay:i.delay,onComplete:i.onComplete})}bounceIn(e,t={}){return c.fromTo(e,{scale:0,opacity:0},{scale:1,opacity:1,duration:t.duration??.6,ease:h.BOUNCE,delay:t.delay,onComplete:t.onComplete})}modalOpen(e,t){const i=c.timeline();return t&&i.fromTo(t,{opacity:0},{opacity:1,duration:.2},0),i.fromTo(e,{scale:.8,opacity:0,y:20},{scale:1,opacity:1,y:0,duration:.3,ease:h.BOUNCE},.1),i}modalClose(e,t){const i=c.timeline();return i.to(e,{scale:.8,opacity:0,y:20,duration:.2,ease:"power2.in"}),t&&i.to(t,{opacity:0,duration:.2},.1),i}shake(e,t=5){const i=c.timeline();return i.to(e,{x:-t,duration:.05}).to(e,{x:t,duration:.05}).to(e,{x:-t*.5,duration:.05}).to(e,{x:t*.5,duration:.05}).to(e,{x:0,duration:.05}),i}screenShake(e,t=10){return this.shake(e,t)}ghostWarning(e){return c.to(e,{opacity:.5,scale:1.1,duration:.3,ease:"power1.inOut",yoyo:!0,repeat:5})}speedUpIndicator(e){const t=c.timeline();return t.fromTo(e,{scale:0,opacity:0},{scale:1.2,opacity:1,duration:.2,ease:"back.out(1.7)"}).to(e,{scale:1,duration:.1}).to(e,{opacity:0,y:-20,duration:.5,delay:1}),t}float(e,t=5){return c.to(e,{y:`+=${t}`,duration:1.5,ease:"sine.inOut",yoyo:!0,repeat:-1})}kill(e){const t=this.activeAnimations.get(e);t&&(t.kill(),this.activeAnimations.delete(e))}killAll(){this.activeAnimations.forEach(e=>e.kill()),this.activeAnimations.clear(),c.killTweensOf("*")}pauseAll(){c.globalTimeline.pause()}resumeAll(){c.globalTimeline.resume()}createTimeline(e){return c.timeline(e)}get gsap(){return c}}const L=v.getInstance(),m={SANRIO:["#FFB6C1","#FFD700","#87CEEB","#98FB98","#DDA0DD","#FFFFFF"],CINNAMOROLL:["#87CEEB","#FFFFFF","#FFB6C1","#E6E6FA"],GOLD:["#FFD700","#FFA500","#FFEC8B","#F0E68C"],RAINBOW:["#FF6B6B","#FFA07A","#FFD93D","#6BCB77","#4D96FF","#9B59B6"],CELEBRATION:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]};class C{static instance=null;customConfetti=null;isReducedMotion=!1;constructor(){this.isReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches}static getInstance(){return C.instance||(C.instance=new C),C.instance}init(e){e&&(this.customConfetti=S.create(e,{resize:!0}))}getConfetti(){return this.customConfetti??S}burst(e={}){this.isReducedMotion&&e.disableForReducedMotion!==!1||this.getConfetti()({particleCount:e.particleCount??50,spread:e.spread??60,origin:e.origin??{x:.5,y:.6},colors:e.colors??m.SANRIO,shapes:e.shapes??["square","circle"],scalar:e.scalar??1,gravity:e.gravity??1,startVelocity:e.startVelocity??30,decay:e.decay??.94,zIndex:e.zIndex??1e3})}scoreMilestone(e){if(this.isReducedMotion)return;const t=Math.min(e/10,5);this.burst({particleCount:20+t*10,spread:40+t*10,origin:{x:.5,y:.3},colors:m.CINNAMOROLL,startVelocity:25+t*5})}highScore(){if(this.isReducedMotion)return;const t=Date.now()+3e3,i=()=>{this.getConfetti()({particleCount:3,angle:60,spread:55,origin:{x:0},colors:m.GOLD}),this.getConfetti()({particleCount:3,angle:120,spread:55,origin:{x:1},colors:m.GOLD}),Date.now()<t&&requestAnimationFrame(i)};i()}victory(){if(this.isReducedMotion)return;const e=200,t={origin:{y:.7},colors:m.CELEBRATION};function i(s,a){S({...t,particleCount:Math.floor(e*s),...a})}i(.25,{spread:26,startVelocity:55}),i(.2,{spread:60}),i(.35,{spread:100,decay:.91,scalar:.8}),i(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),i(.1,{spread:120,startVelocity:45})}achievement(){if(this.isReducedMotion)return;const e=S.shapeFromText({text:"‚≠ê",scalar:2});this.getConfetti()({particleCount:30,spread:360,origin:{x:.5,y:.5},shapes:[e],scalar:2,startVelocity:30,gravity:.5,decay:.9}),setTimeout(()=>{this.burst({particleCount:60,spread:80,origin:{x:.5,y:.5},colors:m.RAINBOW})},200)}sideCannons(){if(this.isReducedMotion)return;const e=Date.now()+1e3,t=()=>{this.getConfetti()({particleCount:2,angle:60,spread:55,origin:{x:0,y:.8},colors:m.SANRIO}),this.getConfetti()({particleCount:2,angle:120,spread:55,origin:{x:1,y:.8},colors:m.SANRIO}),Date.now()<e&&requestAnimationFrame(t)};t()}fireworks(){if(this.isReducedMotion)return;const e=5e3,t=Date.now()+e,i={startVelocity:30,spread:360,ticks:60,zIndex:0},s=(n,o)=>Math.random()*(o-n)+n,a=setInterval(()=>{const n=t-Date.now();if(n<=0){clearInterval(a);return}const o=50*(n/e);this.getConfetti()({...i,particleCount:o,origin:{x:s(.1,.3),y:Math.random()-.2},colors:m.CELEBRATION}),this.getConfetti()({...i,particleCount:o,origin:{x:s(.7,.9),y:Math.random()-.2},colors:m.CELEBRATION})},250)}snow(e=5e3){if(this.isReducedMotion)return;const t=Date.now()+e;let i=1;const s=()=>{const a=t-Date.now(),n=Math.max(200,500*(a/e));i=Math.max(.8,i-.001),this.getConfetti()({particleCount:1,startVelocity:0,ticks:n,gravity:.5,origin:{x:Math.random(),y:Math.random()*i-.2},colors:["#FFFFFF","#E6E6FA","#87CEEB"],shapes:["circle"],scalar:Math.random()*.5+.5,drift:Math.random()-.5}),a>0&&requestAnimationFrame(s)};s()}hearts(){if(this.isReducedMotion)return;const e=S.shapeFromText({text:"üíñ",scalar:2});this.getConfetti()({particleCount:20,spread:100,origin:{x:.5,y:.5},shapes:[e],scalar:2,gravity:.8})}sparkle(e,t){this.isReducedMotion||this.getConfetti()({particleCount:10,spread:30,origin:{x:e,y:t},colors:["#FFD700","#FFFFFF","#FFB6C1"],shapes:["circle"],scalar:.5,startVelocity:15,gravity:.5,decay:.9})}reset(){this.customConfetti?this.customConfetti.reset():S.reset()}get reducedMotion(){return this.isReducedMotion}setReducedMotion(e){this.isReducedMotion=e}destroy(){this.reset(),this.customConfetti=null,C.instance=null}}const A=C.getInstance();class Y{container;overlay=null;modal=null;isVisible=!1;options;keyHandler=null;constructor(e){this.options=e,this.container=e.container,this.createOverlay(),this.setupKeyboardHandler()}createOverlay(){this.overlay=document.createElement("div"),this.overlay.className="pause-overlay",this.overlay.style.cssText=`
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(5px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    `,this.modal=document.createElement("div"),this.modal.className="pause-modal",this.modal.style.cssText=`
      background: linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%);
      border-radius: 20px;
      padding: 30px 40px;
      text-align: center;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      min-width: 280px;
    `,this.modal.innerHTML=`
      <div class="pause-title" style="
        font-size: 28px;
        font-weight: bold;
        color: #5BA3D0;
        margin-bottom: 10px;
      ">‚è∏Ô∏è Paused</div>
      <div class="pause-subtitle" style="
        font-size: 14px;
        color: #888;
        margin-bottom: 25px;
      ">Press Escape to resume</div>
      <div class="pause-buttons" style="
        display: flex;
        flex-direction: column;
        gap: 12px;
      ">
        <button class="pause-btn resume-btn" style="
          padding: 14px 40px;
          font-size: 18px;
          font-weight: bold;
          background: linear-gradient(135deg, #87CEEB, #5BA3D0);
          color: white;
          border: none;
          border-radius: 10px;
          cursor: pointer;
          transition: transform 0.2s, box-shadow 0.2s;
        ">‚ñ∂Ô∏è Resume</button>
        <button class="pause-btn restart-btn" style="
          padding: 14px 40px;
          font-size: 18px;
          font-weight: bold;
          background: linear-gradient(135deg, #FFB6C1, #FF69B4);
          color: white;
          border: none;
          border-radius: 10px;
          cursor: pointer;
          transition: transform 0.2s, box-shadow 0.2s;
        ">üîÑ Restart</button>
        ${this.options.showQuit!==!1?`
          <button class="pause-btn quit-btn" style="
            padding: 14px 40px;
            font-size: 18px;
            font-weight: bold;
            background: linear-gradient(135deg, #E0E0E0, #BDBDBD);
            color: #555;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
          ">üö™ Quit</button>
        `:""}
      </div>
    `;const e=this.modal.querySelector(".resume-btn"),t=this.modal.querySelector(".restart-btn"),i=this.modal.querySelector(".quit-btn");e?.addEventListener("click",()=>this.handleResume()),t?.addEventListener("click",()=>this.handleRestart()),i?.addEventListener("click",()=>this.handleQuit()),this.modal.querySelectorAll(".pause-btn").forEach(s=>{s.addEventListener("mouseenter",()=>{s.style.transform="scale(1.05)",s.style.boxShadow="0 5px 20px rgba(0, 0, 0, 0.2)"}),s.addEventListener("mouseleave",()=>{s.style.transform="scale(1)",s.style.boxShadow="none"})}),this.overlay.appendChild(this.modal),this.container.appendChild(this.overlay)}setupKeyboardHandler(){this.keyHandler=e=>{if(this.isVisible)switch(e.key){case"Escape":e.preventDefault(),this.handleResume();break;case"Enter":e.preventDefault(),this.handleResume();break;case"r":case"R":e.preventDefault(),this.handleRestart();break;case"q":case"Q":this.options.showQuit!==!1&&(e.preventDefault(),this.handleQuit());break}},document.addEventListener("keydown",this.keyHandler)}show(){this.isVisible||!this.overlay||!this.modal||(this.isVisible=!0,this.overlay.style.display="flex",L.modalOpen(this.modal,this.overlay),l.emit(u.MODAL_OPEN,{type:"pause"}))}hide(){if(!this.isVisible||!this.overlay||!this.modal)return;L.modalClose(this.modal,this.overlay).then(()=>{this.overlay&&(this.overlay.style.display="none"),this.isVisible=!1,l.emit(u.MODAL_CLOSE,{type:"pause"})})}toggle(){return this.isVisible?this.hide():this.show(),this.isVisible}handleResume(){this.hide(),this.options.onResume?.(),l.emit(u.GAME_RESUME,{source:"pause-menu"})}handleRestart(){this.hide(),this.options.onRestart?.(),l.emit(u.GAME_RESTART,{source:"pause-menu"})}handleQuit(){this.hide(),this.options.onQuit?.()}get visible(){return this.isVisible}destroy(){this.keyHandler&&document.removeEventListener("keydown",this.keyHandler),this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),this.overlay=null,this.modal=null}}function z(r){return new Y(r)}class q{gameLoop=null;physics=null;pauseOverlay=null;isInitialized=!1;async initialize(){if(!this.isInitialized){console.log("[GameBridge] Initializing game systems...");try{await b.init(),console.log("[GameBridge] SQLite initialized")}catch(e){console.warn("[GameBridge] SQLite initialization failed, using fallback:",e)}await I.init(),console.log("[GameBridge] Audio manager initialized"),this.gameLoop=B({maxDeltaTime:100,fixedTimestep:16.67}),this.physics=G({gravity:.5,maxVelocityY:12}),D.init(),this.isInitialized=!0,console.log("[GameBridge] All systems initialized")}}createPauseMenu(e,t){return this.pauseOverlay=z({container:e,onResume:t.onResume,onRestart:t.onRestart,onQuit:t.onQuit}),this.pauseOverlay}startGameLoop(e,t){if(!this.gameLoop){console.error("[GameBridge] Game loop not initialized");return}this.gameLoop.onUpdate(i=>{e(i.deltaTime,i)}),this.gameLoop.onRender(i=>{t(i.deltaTime,i)}),this.gameLoop.start()}stopGameLoop(){this.gameLoop?.stop()}pauseGame(){this.gameLoop?.pause(),this.pauseOverlay?.show()}resumeGame(){this.pauseOverlay?.hide(),this.gameLoop?.resume()}togglePause(){const e=this.gameLoop?.togglePause()??!1;return e?this.pauseOverlay?.show():this.pauseOverlay?.hide(),e}applyGravity(e,t){this.physics?.applyGravity(e,t)}applyVelocity(e,t){this.physics?.applyVelocity(e,t)}applyImpulse(e,t,i){this.physics?.applyImpulse(e,t,i)}checkCloudCollision(e,t,i,s,a,n){return _.checkCloudGapCollision(e,t,i,s,a,n,.7)}playSound(e){I.play(e)}setMasterVolume(e){I.setMasterVolume(e)}scorePopup(e,t,i){L.scorePopup(e,t,i)}celebrateScore(e){e>=100?A.fireworks():e>=50?A.victory():e>=10&&A.scoreMilestone(e)}celebrateHighScore(){A.highScore()}celebrateAchievement(){A.achievement()}async saveScore(e,t,i){b.addScore(e,t,i)}async getHighScores(e,t=10){return b.getHighScores(e,t)}async getPlayerBestScore(e,t){return b.getPlayerBestScore(e,t)}on(e,t){return l.on(e,t)}emit(e,t){l.emit(e,t)}emitGameStart(){l.emit(u.GAME_START)}emitGameOver(e){l.emit(u.GAME_OVER,{score:e})}emitScoreChange(e,t){l.emit(u.SCORE_UPDATE,{score:e,highScore:t})}destroy(){this.gameLoop?.destroy(),this.pauseOverlay?.destroy(),l.removeAllListeners(),this.isInitialized=!1}}const d=new q;typeof window<"u"&&(window.GameBridge=d);async function M(){console.log("üéÆ Initializing Flappy Cinnamoroll v2.0...");try{await d.initialize(),window.FlappyBridge={celebrateScore:r=>{d.celebrateScore(r)},celebrateHighScore:()=>{d.celebrateHighScore()},pause:()=>{d.pauseGame()},resume:()=>{d.resumeGame()},togglePause:()=>d.togglePause(),playSound:r=>{d.playSound(r)},emitGameStart:()=>d.emitGameStart(),emitGameOver:r=>d.emitGameOver(r),emitScoreChange:(r,e)=>d.emitScoreChange(r,e),on:(r,e)=>d.on(r,e),Events:u},console.log("‚úÖ FlappyBridge ready - access via window.FlappyBridge")}catch(r){console.error("‚ùå Failed to initialize Flappy game systems:",r)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",M):M();
//# sourceMappingURL=main-Bar6Fac5.js.map
